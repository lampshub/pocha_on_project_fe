<!--
  CustomerSidebar.vue
  - ê³ ê° ì£¼ë¬¸ í˜ì´ì§€ì˜ ì¢Œì¸¡ ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸
  - í…Œì´ë¸” ë²ˆí˜¸ í‘œì‹œ, ì¹´í…Œê³ ë¦¬ ëª©ë¡, ì§ì› í˜¸ì¶œ, ê²°ì œ ë²„íŠ¼
-->
<template>
  <aside class="sidebar">
    <div
      class="table-info"
      @click="$emit('handle-hidden-admin-trigger')"
      style="cursor: default"
    >
      <span class="table-live-dot"></span>
      <div class="table-number">{{ tableNum }}</div>
      <div class="table-label">TABLE</div>
    </div>

    <div class="category-list">
      <div
        v-for="cat in categories"
        :key="cat.id"
        :class="['category-item', { active: currentCategory === cat.id }]"
        @click="$emit('select-category', cat.id)"
      >
        {{ cat.name }}
        <span class="category-count">{{ getMenusByCategory(cat.id).length }}</span>
      </div>
      <div class="staff-divider"></div>
      <div class="category-item call-staff" @click="$emit('call-staff')">
        ğŸ‘‹ ì§ì›í˜¸ì¶œ
      </div>
    </div>
    <div class="sidebar-bottom">
      <div class="category-item payment-btn" @click="$emit('handle-payment')">
        ğŸ’³ ê²°ì œí•˜ê¸°
      </div>
    </div>
  </aside>
</template>

<script setup>
defineProps({
  tableNum: { type: Number, default: 0 },
  categories: { type: Array, default: () => [] },
  currentCategory: { type: String, default: '' },
  getMenusByCategory: { type: Function, required: true },
})
defineEmits(['handle-hidden-admin-trigger', 'select-category', 'call-staff', 'handle-payment'])
</script>
